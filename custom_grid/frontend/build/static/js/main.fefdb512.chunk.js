(this.webpackJsonpstreamlit_custom_slider=this.webpackJsonpstreamlit_custom_slider||[]).push([[0],{130:function(e,t,a){},131:function(e,t,a){"use strict";a.r(t);var l=a(1),r=a.n(l),n=a(13),o=a.n(n),i=a(22),s=(a(32),a(33),a(48)),c=a(8),d=a.n(c),m=(a(87),a(88),a(89),a(31)),u=a.n(m),p=(a(99),a(133)),f=a(17),b=a(16),g=a.n(b);const y=["YYYY-MM-DDTHH:mm","MM/DD/YYYYTHH:mm","MM/DD/YYYY HH:mm","YYYY-MM-DD HH:mm"],x=["buying_power","borrow_power"],h=["Day","Week","Month","Quarter","Quarters","Year"],v=h.map(e=>"".concat(e," Margin"));u.a.setAppElement("#root");let E=!1;var _=e=>{let{isOpen:t,closeModal:a,modalData:n,promptText:o,setPromptText:i,toastr:s}=e;const{prompt_field:c,prompt_order_rules:d,selectedRow:m,selectedField:b,add_symbol_row_info:_,display_grid_column:w,editableCols:k}=n,[S,N]=r.a.useState(!1),[C,O]=r.a.useState(!1),[F,D]=r.a.useState(!1),[j,R]=r.a.useState(!1),[A,T]=r.a.useState(!1),[z,M]=r.a.useState({}),H=(e,t)=>{M(a=>({...a,[e]:t}))},W=Object(l.useRef)(null);Object(l.useRef)(null);Object(l.useEffect)(()=>{t&&setTimeout(()=>{var e;return null===(e=W.current)||void 0===e?void 0:e.focus()},100)},[t]),Object(l.useEffect)(()=>{M({})},[t,m]);const P=e=>y.some(t=>g()(e,t,!0).isValid()),Y=e=>{const t=g()(e,y,!0).toDate(),a=Intl.DateTimeFormat().resolvedOptions().timeZone,l=Object(f.b)(t,a);return Object(f.a)(l,"yyyy-MM-dd'T'HH:mm")},B=[],L=[],q=[],I=[];Array.isArray(d)&&o&&d.filter(e=>e&&e in o);if(d)for(const l of d){const e=o[l];Array.isArray(e)?I.push(l):"boolean"===typeof e?L.push(l):P(e)?q.push(l):B.push(l)}return r.a.createElement(u.a,{isOpen:t,onRequestClose:a,ariaHideApp:!1},r.a.createElement("div",{className:"my-modal-content"},r.a.createElement("div",{className:"modal-header px-3 d-flex justify-content-center align-items-center",style:{position:"relative"}},r.a.createElement("h4",{className:"text-center m-0"},n.prompt_message),r.a.createElement("span",{className:"close",onClick:a,style:{position:"absolute",right:"20px"}},"\xd7"),r.a.createElement("div",{className:"d-flex",style:{position:"absolute",left:"20px"}},r.a.createElement("button",{type:"button",className:"btn btn-primary mx-2",onClick:async()=>{if(!E){E=!0;try{const e={username:n.username,prod:n.prod,selected_row:n.selectedRow,default_value:o,...n.kwargs};console.log("body :>> ",e);const{data:t}=await p.a.post(n.button_api,e),{status:l,data:r,description:i}=t;"success"===l?"fade"===r.message_type?s.success(i,"Success"):alert("Success!\nDescription: "+i):"fade"===r.message_type?s.error(i,"Error"):alert("Error!\nDescription: "+i),0!=(null===r||void 0===r?void 0:r.close_modal)&&a()}catch(e){console.log("error :>> ",e),s.error(e.message)}E=!1}},ref:W},"Ok"),r.a.createElement("button",{type:"button",className:"btn btn-secondary mx-2",onClick:a},"Cancel"))),r.a.createElement("div",{className:"modal-body p-3"},r.a.createElement("div",{className:"d-flex flex-column"},L.length>0&&r.a.createElement("div",{className:"d-flex flex-row justify-content-between mb-2"},L.map((e,t)=>r.a.createElement("div",{className:"d-flex flex-column align-items-center",key:t,style:{marginRight:"8px"}},r.a.createElement("label",{className:"mb-0",style:{minWidth:"100px",textAlign:"center",fontSize:"0.9rem"}},e,":"),r.a.createElement("input",{type:"checkbox",checked:o[e],onChange:t=>i({...o,[e]:t.target.checked}),style:{width:"16px",height:"16px",marginTop:"4px"}})))),r.a.createElement("div",{className:"d-flex flex-row justify-content-between"},B.length>0&&r.a.createElement("div",{className:"d-flex flex-column",style:{flex:1,marginRight:"8px"}},B.map((e,t)=>{if(h.includes(e))return null;if(v.includes(e))return null;const a=x.includes(e);return r.a.createElement("div",{className:"d-flex flex-column align-items-start mb-1",key:t},r.a.createElement("label",{className:"mb-0",style:{fontSize:"0.9rem"}},e,":","sell_amount"===e&&r.a.createElement("span",{style:{marginLeft:"4px",cursor:"pointer"},title:"This amount will override sell_qty"},"\u2753")),a?r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"range",min:"0",max:"1",step:".01",value:o[e]||0,onChange:t=>i({...o,[e]:Number(t.target.value)}),style:{width:"100%"}}),r.a.createElement("span",{style:{fontSize:"0.9rem",fontWeight:"bold",marginTop:"4px"}},o[e]||0)):r.a.createElement("input",{type:"text",value:o[e],onChange:t=>i({...o,[e]:t.target.value}),style:{flex:1,width:"100%",padding:"4px",fontSize:"0.9rem"}}))})),I.length>0&&r.a.createElement("div",{className:"d-flex flex-column",style:{flex:1}},I.map((e,t)=>r.a.createElement("div",{className:"d-flex flex-column align-items-start mb-1",key:t},r.a.createElement("label",{className:"mb-0",style:{fontSize:"0.9rem"}},e,":"),r.a.createElement("select",{value:o[e][0],onChange:t=>i({...o,[e]:[t.target.value]}),style:{flex:1,width:"100%",padding:"4px",fontSize:"0.9rem"}},o[e].map((e,t)=>r.a.createElement("option",{key:t,value:e},e)))))),h.some(e=>null===d||void 0===d?void 0:d.includes(e))&&r.a.createElement("div",{style:{flex:1,marginRight:"8px"}},r.a.createElement("div",{style:{cursor:"pointer",fontWeight:"bold",marginBottom:"4px"},onClick:()=>N(e=>!e)},S?"\u25bc":"\u25ba"," Advanced Allocation Options"),S&&r.a.createElement("div",null,h.map((e,t)=>(null===d||void 0===d?void 0:d.includes(e))&&void 0!==o[e]&&r.a.createElement("div",{className:"d-flex flex-column align-items-start mb-1",key:t},r.a.createElement("label",{className:"mb-0",style:{fontSize:"0.9rem"}},e,":"),r.a.createElement("input",{type:"range",min:"0",max:"1",step:".01",value:o[e]||0,onChange:t=>i({...o,[e]:Number(t.target.value)}),style:{width:"100%"}}),r.a.createElement("span",{style:{fontSize:"0.9rem",fontWeight:"bold",marginTop:"4px"}},o[e]||0))))),v.some(e=>null===d||void 0===d?void 0:d.includes(e))&&r.a.createElement("div",{style:{flex:1,marginRight:"8px"}},r.a.createElement("div",{style:{cursor:"pointer",fontWeight:"bold",marginBottom:"4px"},onClick:()=>O(e=>!e)},C?"\u25bc":"\u25ba"," Advanced Margin Allocation Options"),C&&r.a.createElement("div",null,v.map((e,t)=>(null===d||void 0===d?void 0:d.includes(e))&&void 0!==o[e]&&r.a.createElement("div",{className:"d-flex flex-column align-items-start mb-1",key:t},r.a.createElement("label",{className:"mb-0",style:{fontSize:"0.9rem"}},e,":"),r.a.createElement("input",{type:"range",min:"0",max:"1",step:".01",value:o[e]||0,onChange:t=>i({...o,[e]:Number(t.target.value)}),style:{width:"100%"}}),r.a.createElement("span",{style:{fontSize:"0.9rem",fontWeight:"bold",marginTop:"4px"}},o[e]||0))))),q.length>0&&r.a.createElement("div",{className:"d-flex flex-column",style:{flex:1,marginRight:"8px"}},q.map((e,t)=>r.a.createElement("div",{className:"d-flex flex-column align-items-start mb-1",key:t},r.a.createElement("label",{className:"mb-0",style:{fontSize:"0.9rem"}},e,":"),r.a.createElement("input",{type:"datetime-local",value:o[e]&&Y(o[e]),onChange:t=>i({...o,[e]:t.target.value}),style:{flex:1,width:"100%",padding:"4px",fontSize:"0.9rem"}}))))))),_&&Array.isArray(_)&&r.a.createElement("div",{className:"d-flex flex-column",style:{flex:1}},_.map(e=>m&&void 0!==m[e]&&r.a.createElement("div",{key:e},r.a.createElement("b",null,e,": "),"number"===typeof m[e]?Number(m[e]).toLocaleString(void 0,{maximumFractionDigits:2}):String(m[e])))),"sell_option"===c&&m&&Array.isArray(m.active_orders)&&m.active_orders.length>0&&r.a.createElement("div",{style:{margin:"16px 0"}},r.a.createElement("div",{style:{cursor:"pointer",fontWeight:"bold",marginBottom:"4px"},onClick:()=>D(e=>!e)},F?"\u25bc":"\u25ba"," Active Orders"),F&&(()=>{const e=m.active_orders;return r.a.createElement("div",{style:{overflowX:"auto"}},r.a.createElement("table",{className:"table table-bordered table-sm",style:{fontSize:"0.8rem"}},r.a.createElement("thead",null,r.a.createElement("tr",null,Object.keys(e[0]).map(e=>r.a.createElement("th",{key:e},e)),r.a.createElement("th",null,"sell_qty"))),r.a.createElement("tbody",null,e.map((t,a)=>r.a.createElement("tr",{key:a},Object.keys(e[0]).map(e=>r.a.createElement("td",{key:e},t&&void 0!==t[e]?String(t[e]):"")),r.a.createElement("td",null,r.a.createElement("input",{type:"number",min:0,max:t.qty_available,value:z[a]||"",onChange:l=>{let r=l.target.value;if(""===r)return void H(a,"");let n=Number(r);n<0&&(n=0),void 0!==t.qty_available&&n>t.qty_available&&(n=t.qty_available),H(a,String(n));const s=e.map((e,t)=>({...e,sell_qty:t===a?String(n):void 0!==z[t]&&""!==z[t]?z[t]:""}));i({...o,active_orders_with_qty:s})},style:{width:"80px",fontSize:"0.8rem"}})))))))})()),"kors"===c&&m&&Array.isArray(m.wave_data)&&m.wave_data.length>0&&r.a.createElement("div",{style:{margin:"16px 0"}},r.a.createElement("div",{style:{cursor:"pointer",fontWeight:"bold",marginBottom:"4px"},onClick:()=>R(e=>!e)},j?"\u25bc":"\u25ba"," Show Buy Time Set Allocations"),j&&(()=>{const e=m.wave_data;return r.a.createElement("div",{style:{overflowX:"auto"}},r.a.createElement("table",{className:"table table-bordered table-sm",style:{fontSize:"0.8rem"}},r.a.createElement("thead",null,r.a.createElement("tr",null,Object.keys(e[0]).map(e=>r.a.createElement("th",{key:e},e)))),r.a.createElement("tbody",null,(o.wave_data||e).map((t,a)=>r.a.createElement("tr",{key:a},Object.keys(e[0]).map(l=>r.a.createElement("td",{key:l},Array.isArray(k)&&k.includes(l)?r.a.createElement("input",{type:"number",value:t[l]||"",onChange:t=>{const r=t.target.value,n=(o.wave_data?[...o.wave_data]:[...e]).map((e,t)=>t===a?{...e,[l]:r}:e);i({...o,wave_data:n})},style:{width:"80px",fontSize:"0.8rem"}}):t&&void 0!==t[l]?"number"===typeof t[l]?Number(t[l]).toLocaleString(void 0,{maximumFractionDigits:2}):String(t[l]):"")))))))})()),w&&m&&Array.isArray(m[w])&&m[w].length>0&&r.a.createElement("div",{style:{margin:"16px 0"}},r.a.createElement("div",{style:{cursor:"pointer",fontWeight:"bold",marginBottom:"4px"},onClick:()=>T(e=>!e)},A?"\u25bc":"\u25ba"," ",w),A&&(()=>{const e=m[w];return r.a.createElement("div",{style:{overflowX:"auto"}},r.a.createElement("table",{className:"table table-bordered table-sm",style:{fontSize:"0.6rem"}},r.a.createElement("thead",null,r.a.createElement("tr",null,Object.keys(e[0]).map(e=>r.a.createElement("th",{key:e},e)),r.a.createElement("th",null,"Buy Amount"))),r.a.createElement("tbody",null,e.map((t,a)=>r.a.createElement("tr",{key:a},Object.keys(e[0]).map(e=>r.a.createElement("td",{key:e},t&&void 0!==t[e]?"number"===typeof t[e]?Number(t[e]).toLocaleString(void 0,{maximumFractionDigits:2}):String(t[e]):"")))))))})())))},w=(a(129),a(135));a(134),a(130);function k(e,t,a){return Object.keys(e).reduce((l,r)=>a.includes(r)?(l[r]=e[r],l):(l[r]=t(e[r]),l),{})}function S(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const l=e=>null!==e&&"object"===typeof e?S(e,t):t(e);return Array.isArray(e)?e.map(l):"object"===typeof e?k(e,l,a):e}let N=[],C=null;function O(e,t){try{let a=new Date(e);return Object(f.a)(a,t)}catch{return e}}function F(e,t){let a=Number.parseFloat(e);return Number.isNaN(a)?e:t+a.toFixed(2)}function D(e,t){let a=Number.parseFloat(e);return Number.isNaN(a)?e:a.toFixed(t)}const j=e=>{const t=e.column.colDef.linkField,a=e.column.colDef.baseURL,l=e.data&&t?e.data[t]:null;return l&&a?r.a.createElement("a",{href:"".concat(a,"/").concat(l),target:"_blank",rel:"noopener noreferrer"},e.value):r.a.createElement("span",null,e.value)};d.a.options={positionClass:"toast-top-full-width",hideDuration:300,timeOut:3e3};var R=e=>{const t=e=>r.a.createElement("button",{onClick:()=>{e.clicked(e.node.id)},style:{background:"transparent",border:e.cellStyle&&void 0!==e.cellStyle.border?e.cellStyle.border:"none",width:e.width?e.width:"100%",...e.cellStyle||{}}},e.col_header?e.value:e.buttonName),a=Object(l.useRef)(null),{username:n,api:o,api_update:c,refresh_sec:m,refresh_cutoff_sec:u=0,prod:f=!0,index:g,enable_JsCode:y,kwargs:x}=e;let{grid_options:h={}}=e;y&&(h=S(h,be,["rowData"]));const[v,E]=Object(l.useState)([]);let{buttons:k,toggle_views:R,api_key:A,api_lastmod_key:T=null,columnOrder:z=[],refresh_success:M=null,total_col:H=!1,subtotal_cols:W=[],filter_button:P=""}=x;const[Y,B]=Object(l.useState)([]),[L,q]=Object(l.useState)(!1),[I,J]=Object(l.useState)({}),[G,U]=Object(l.useState)(""),[X,K]=Object(l.useState)(0),[Q,V]=Object(l.useState)(null),[$,Z]=Object(l.useState)(89),[ee,te]=Object(l.useState)(null);Object(l.useEffect)(()=>{var e;i.a.setFrameHeight(),k.length&&(k=S(k,be,["rowData"]),k.forEach(e=>{const{prompt_field:a,prompt_message:l,button_api:r,prompt_order_rules:o,col_header:i,col_headername:s,col_width:c,pinned:m,button_name:u,border_color:b,border:y,add_symbol_row_info:v,display_grid_column:E,editableCols:_,...w}=e;let k=e.filterParams||{};x.filter_apply&&(k={...k,buttons:["apply","reset"]}),h.columnDefs.push({...w,field:i||g,headerName:s,width:c,pinned:m,cellRenderer:t,filterParams:k,cellRendererParams:{col_header:i,buttonName:u,borderColor:b,border:y,filterParams:k,cellStyle:e.cellStyle,...e.cellRendererParams||{},clicked:async function(e){try{const t=N.find(t=>t[g]===e);if(o){const e=t[a],i="string"===typeof e?JSON.parse(t[a].replace(/'/g,'"').replace(/\n/g,"").replace(/\s/g,"").replace(/False/g,"false").replace(/True/g,"true")):e;q(!0),J({prompt_message:l,button_api:r,username:n,prod:f,selectedRow:t,kwargs:x,prompt_field:a,prompt_order_rules:o,selectedField:i,add_symbol_row_info:v,display_grid_column:E,editableCols:_});const s={};o.forEach(e=>{s[e]=i[e]}),U(s)}else a&&l?(q(!0),J({prompt_message:l,button_api:r,username:n,prod:f,selectedRow:t,kwargs:x}),U(t[a])):(window.confirm(l)&&await p.a.post(r,{username:n,prod:f,selected_row:t,...x}),d.a.success("Success!"))}catch(t){alert("".concat(t))}}}})})),z.length>0&&h.columnDefs&&h.columnDefs.sort((e,t)=>-1!==z.indexOf(e.field)&&-1!==z.indexOf(t.field)?z.indexOf(e.field)-z.indexOf(t.field):-1===z.indexOf(e.field)?1:-1===z.indexOf(t.field)?-1:0),(null===(e=a.current)||void 0===e?void 0:e.api)&&a.current.api.refreshHeader()},[k,h.columnDefs]);const ae=async()=>{const e=await le();return!1!==e&&(B(e),N=e,!0)};Object(l.useEffect)(()=>{pe()},[X]);const le=async()=>{try{let e=R?R[X]:"none";if(!await(async(e,t)=>e!==t&&(Z(e),!0))(X,$)&&m&&m>0){if(!await(async()=>{try{if(null===T)return console.log("api key is null, returning false"),!0;if(null!==T&&void 0!==T){var e;const t=o.split("/").slice(0,-1).join("/"),a=await p.a.get("".concat(t,"/lastmod_key"),{params:{api_key:A,client_user:n,prod:f,api_lastmod_key:T}});return(null===(e=a.data)||void 0===e?void 0:e.lastModified)!==Q&&(V(a.data.lastModified),!0)}return!1}catch(t){return d.a.error("Failed to check last modified: ".concat(t.message)),!1}})())return!1}console.log("fetching data...",o);const t=await p.a.post(o,{username:n,prod:f,...x,toggle_view_selection:e});return JSON.parse(t.data)}catch(e){return d.a.error("Fetch Error: ".concat(e.message)),!1}},re=Object(l.useCallback)(()=>{if(!a.current)return;if(!W||0===W.length)return void E([]);const e=a.current.api;let t=[];if(e.forEachNodeAfterFilterAndSort(e=>{e.data&&t.push(e.data)}),0===t.length)return void E([]);let l={},r=[];h&&h.columnDefs?r=h.columnDefs.map(e=>e.field).filter(Boolean):t.length>0&&(r=Object.keys(t[0])),"string"===typeof H&&r.includes(H)?l[H]="subTotals":r.length>0&&(l[r[0]]="subTotals"),Array.isArray(k)&&k.forEach(e=>{e.col_header&&!r.includes(e.col_header)&&r.push(e.col_header)}),r.forEach(e=>{if(W.includes(e)){const a=t.reduce((t,a)=>{let l=a[e];if("string"===typeof l&&l.includes("$")){const e=l.match(/\$([\d,.\-]+)/);e&&e[1]&&(l=e[1].replace(/,/g,""))}const r=Number(l);return t+(isNaN(r)?0:r)},0);l[e]=isNaN(a)?"":a}else"subTotals"===l[H]&&e===H||(l[e]="")}),E([l])},[W,H]),ne=Object(l.useCallback)(()=>{re()},[re]);Object(l.useEffect)(()=>{if(m&&m>0){const t=setInterval(ae,1e3*m);let a;return u>0&&(console.log(u),a=setTimeout(()=>{clearInterval(t),console.log("Fetching data ended, refresh rate:",m)},1e3*u)),console.error("rendered==========",e),()=>{clearInterval(t),a&&clearTimeout(a)}}},[e,X]);Object(l.useCallback)(e=>{const t=[];a.current.columnApi.getColumns().forEach(e=>{t.push(e.getId())}),a.current.columnApi.autoSizeColumns(t,e)},[]),Object(l.useCallback)(()=>{a.current.api.sizeColumnsToFit({defaultMinWidth:100})},[]);const oe=Object(l.useCallback)(async e=>{setTimeout(async()=>{try{const e=await le();if(!1===e)return;B(e),N=e,W&&W.length>0?re():E([])}catch(e){d.a.error("Error: ".concat(e.message))}},100)},[]),ie=Object(l.useMemo)(()=>({minWidth:200}),[]),se=Object(l.useMemo)(()=>e=>e.data[g],[g]),ce=Object(l.useMemo)(()=>({toolPanels:[{id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},{id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}],defaultToolPanel:"customStats"}),[]),de=Object(l.useCallback)(e=>{null===C&&(C={}),C[e.data[g]]=e.data,console.log("Data after change is",C)},[]),[me,ue]=Object(l.useState)(!1),pe=(Object(l.useRef)(null),async()=>{ue(!0);try{const e=await ae();M&&e&&d.a.success("Refresh success!")}catch(e){d.a.error("Refresh Failed! ".concat(e.message))}finally{ue(!1)}}),fe=Object(l.useMemo)(()=>({dateColumnFilter:{filter:"agDateColumnFilter",filterParams:{comparator:(e,t)=>Object(w.a)(new Date(t),e)}},numberColumnFilter:{filter:"agNumberColumnFilter"},shortDateTimeFormat:{valueFormatter:e=>O(e.value,"dd/MM/yyyy HH:mm")},customDateTimeFormat:{valueFormatter:e=>O(e.value,e.column.colDef.custom_format_string)},customNumericFormat:{valueFormatter:e=>{var t;return D(e.value,null!==(t=e.column.colDef.precision)&&void 0!==t?t:2)}},customCurrencyFormat:{valueFormatter:e=>F(e.value,e.column.colDef.custom_currency_symbol)},timedeltaFormat:{valueFormatter:e=>Object(b.duration)(e.value).humanize(!0)},customNumberFormat:{valueFormatter:e=>Number(e.value).toLocaleString("en-US",{minimumFractionDigits:0})},customHyperlinkRenderer:{cellRenderer:j,cellRendererParams:{baseURL:"URLSearchParams.co"}}}),[]);function be(e){let t=new RegExp("".concat("::JSCODE::","\\s*((function|class)\\s*.*)\\s*").concat("::JSCODE::")).exec(e);if(t){const e=t[1];return new Function("return "+e)()}return e}const ge=(ye=R.length)<3?{padding:"15px 18px",fontSize:"18px"}:ye<8?{padding:"15px 18px",fontSize:"15px"}:ye<15?{padding:"12px 13px",fontSize:"13px"}:ye<35?{padding:"10px 12px",fontSize:"11px"}:{padding:"3px 5px",fontSize:"10px"};var ye;const xe=Object(l.useMemo)(()=>((e,t)=>Array.from(new Set(t.map(t=>t[e]))).filter(e=>void 0!==e&&null!==e))(P,Y),[Y,P]),he=e=>{if(te(e),a.current&&a.current.api){const t=a.current.api;if(e)t.setFilterModel({...t.getFilterModel(),[P]:{filterType:"set",values:[e]}});else{const e=t.getFilterModel();delete e[P],t.setFilterModel(e)}}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{isOpen:L,closeModal:()=>q(!1),modalData:I,promptText:G,setPromptText:U,toastr:d.a}),r.a.createElement("div",{style:{flexDirection:"row",height:"100%",width:"100%"},id:"myGrid"},r.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},(void 0==m||0==m)&&r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{margin:"5px 5px 5px 2px"}},r.a.createElement("button",{className:"btn",style:{backgroundColor:"#3498db",color:"white",padding:"5px 8px",fontSize:"12px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",minWidth:"80px"},onClick:pe,disabled:me},me?r.a.createElement("div",{style:{width:"14px",height:"14px",border:"2px solid white",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}):"Refresh"),r.a.createElement("style",null,"\n                    @keyframes spin {\n                      to {\n                        transform: rotate(360deg);\n                      }\n                    }\n                  ")),r.a.createElement("div",{style:{margin:"5px 5px 5px 2px"}},r.a.createElement("button",{className:"btn",style:{backgroundColor:"green",color:"white",padding:"5px 8px",fontSize:"12px",borderRadius:"4px"},onClick:async()=>{if(null!==C)try{const e=await p.a.post(c,{username:n,prod:f,new_data:C,...x});C=null,e.status?d.a.success("Successfully Updated! "):d.a.error("Failed! ".concat(e.message))}catch(e){d.a.error("Failed! ".concat(e))}else d.a.warning("No changes to update")}},"Update"))),R&&R.length>0&&r.a.createElement(r.a.Fragment,null,R.length<20?r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",padding:"10px",marginBottom:"10px"}},R.map((e,t)=>r.a.createElement("button",{key:t,className:"btn ".concat(X===t?"btn-danger":"btn-secondary"),style:{...ge,borderRadius:"8px",color:"#055A6E",backgroundColor:"#F3FAFD",fontWeight:"bold"},onClick:()=>{K(t),Z(X)},disabled:me},e,me&&X===t?r.a.createElement("div",{style:{width:"14px",height:"14px",border:"2px solid black",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 0.8s linear infinite",marginLeft:"8px"}}):null))):r.a.createElement("div",{className:"toggle-view-container",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))",gap:"10px",overflowY:"auto",maxHeight:"200px",padding:"10px",border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#eef9f8",width:"100%",marginBottom:"10px"}},R.map((e,t)=>r.a.createElement("button",{key:t,className:"btn ".concat(X===t?"btn-danger":"btn-secondary"),style:{...ge,borderRadius:"8px",color:"#055A6E",backgroundColor:"#F3FAFD",fontWeight:"bold"},onClick:()=>{K(t),Z(X)},disabled:me},e,me&&X===t?r.a.createElement("div",{style:{width:"14px",height:"14px",border:"2px solid black",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 0.8s linear infinite",marginLeft:"8px"}}):null))))),r.a.createElement("div",{className:h.theme||"ag-theme-alpine-dark",style:{width:"100%",height:x.grid_height?x.grid_height:"100%"}},x.streaming_list_text&&Array.isArray(x.streaming_list_text)&&r.a.createElement("div",{style:{width:"100%",background:"#F3FAFD",color:"#055A6E",padding:"4px 10px",fontSize:"13px",borderBottom:"1px solid #ddd",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginBottom:"4px",fontWeight:"bold"}},r.a.createElement("div",{style:{display:"block",width:"100%",whiteSpace:"nowrap",overflow:"hidden",position:"relative"}},r.a.createElement("div",{style:{display:"inline-block",paddingLeft:"100%",animation:"scroll-left 40s linear infinite"}},x.streaming_list_text.join("   |   ")),r.a.createElement("style",null,"\n                @keyframes scroll-left {\n                  0% {\n                  transform: translateX(0%);\n                  }\n                  100% {\n                  transform: translateX(-100%);\n                  }\n                }\n                "))),x.filter_button&&""!==x.filter_button&&r.a.createElement("div",{style:{marginBottom:8}},xe.map(e=>r.a.createElement("button",{key:e,onClick:()=>he(e),style:{background:ee===e?"#3498db":"#F3FAFD",color:ee===e?"white":"#055A6E",border:ee===e?"2px solid #1abc9c":"1px solid #ddd",borderRadius:"6px",fontWeight:"bold",fontSize:"12px",padding:"5px 10px",margin:"0 4px 4px 0",boxShadow:ee===e?"0 2px 6px rgba(52,152,219,0.10)":"none",transition:"all 0.15s",cursor:"pointer"}},e)),r.a.createElement("button",{onClick:()=>he(null),style:{background:"#b0c4de",color:"#055A6E",border:"1.5px solid #8fa6bc",borderRadius:"6px",fontWeight:"bold",fontSize:"12px",padding:"5px 10px",margin:"0 4px 4px 0",boxShadow:"0 2px 6px rgba(176,196,222,0.10)",transition:"all 0.15s",cursor:"pointer"}},"Clear")),r.a.createElement(s.AgGridReact,{ref:a,rowData:Y,pinnedBottomRowData:v,onFilterChanged:ne,getRowStyle:e=>{if(e.data&&"subTotals"===e.data[H])return{fontWeight:"bold",background:"#f8f8f8"};try{var t,a;const l=null!==(t=e.data.color_row)&&void 0!==t?t:void 0;return{background:l,color:null!==(a=e.data.color_row_text)&&void 0!==a?a:void 0}}catch(l){return void console.error("Error accessing row style:",l)}},rowStyle:{fontSize:12,padding:0},headerHeight:30,rowHeight:30,onGridReady:oe,autoGroupColumnDef:ie,animateRows:!0,suppressAggFuncInHeader:!0,getRowId:se,gridOptions:(()=>{let t={...h};return e.nestedGridEnabled&&e.nested_columnDefs?(t.masterDetail=!0,t.detailCellRendererParams={detailGridOptions:{columnDefs:e.nested_columnDefs},getDetailRowData:e=>{e.successCallback(e.data.nestedRows||[])}}):(t.masterDetail=!1,t.detailCellRendererParams=void 0),t})(),onCellValueChanged:de,columnTypes:fe,sideBar:!1!==h.sideBar&&ce}))))};var A=Object(i.b)(e=>{const{username:t,api:a,api_update:l,refresh_sec:n,refresh_cutoff_sec:o,gridoption_build:i,enable_JsCode:s,prod:c}=e.args,{grid_options:d,kwargs:m={}}=e.args,{index:u,theme:p}=d;return r.a.createElement("div",null,r.a.createElement(R,{username:t,api:a,api_update:l,refresh_sec:n,refresh_cutoff_sec:o,gridoption_build:i,prod:c,grid_options:d,index:u,kwargs:m,enable_JsCode:s}))});o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root"))},55:function(e,t,a){e.exports=a(131)},99:function(e,t,a){}},[[55,1,2]]]);
//# sourceMappingURL=main.fefdb512.chunk.js.map