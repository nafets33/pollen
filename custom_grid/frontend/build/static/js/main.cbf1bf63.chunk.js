(this.webpackJsonpstreamlit_custom_slider=this.webpackJsonpstreamlit_custom_slider||[]).push([[0],{37:function(e,r,t){e.exports=t(75)},70:function(e,r,t){},75:function(e,r,t){"use strict";t.r(r);var a=t(6),n=t.n(a),i=t(17),l=t.n(i),o=t(22),s=(t(27),t(28),t(8),t(7)),c=t(3),u=t.n(c),d=t(5),f=t(36),m=(t(69),t(70),t(77)),_=[],p=function(e){var r=function(e){return n.a.createElement("button",{onClick:function(){e.clicked(e.value)}},N)},t=[{field:"honey",headerName:"honey",filter:"agTextColumnFilter",pinned:"left",cellRenderer:"agAnimateShowChangeCellRenderer",enableCellChangeFlash:!0},{field:"$honey",headerName:"$honey",resizable:!0,cellRenderer:"agAnimateShowChangeCellRenderer",enableCellChangeFlash:!0},{field:"symbol",headerName:"Symbol",resizable:!0},{field:"ticker_time_frame",headerName:"ticker_time_frame",resizable:!0},{field:"trigname",headerName:"trigname",resizable:!0},{field:"datetime",headerName:"datetime",resizable:!0},{field:"honey_time_in_profit",headerName:"honey_time_in_profit",resizable:!0},{field:"filled_qty",headerName:"filled_qty",resizable:!0},{field:"qty_available",headerName:"qty_available",resizable:!0},{field:"filled_avg_price",headerName:"filled_avg_price",resizable:!0},{field:"limit_price",headerName:"limit_price",resizable:!0},{field:"cost_basis",headerName:"cost_basis",resizable:!0},{field:"wave_amo",headerName:"wave_amo",resizable:!0},{field:"status_q",headerName:"status_q",resizable:!0},{field:"client_order_id",headerName:"client_order_id",resizable:!0},{field:"origin_wave",headerName:"origin_wave",resizable:!0},{field:"wave_at_creation",headerName:"wave_at_creation",resizable:!0},{field:"sell_reason",headerName:"sell_reason",resizable:!0},{field:"exit_order_link",headerName:"exit_order_link",resizable:!0},{field:"queen_order_state",headerName:"queen_order_state",resizable:!0},{field:"order_rules",headerName:"order_rules",resizable:!0},{field:"order_rules.sellout",headerName:"order_rules.sellout",width:150,resizable:!0},{field:"order_trig_sell_stop",headerName:"order_trig_sell_stop",resizable:!0},{field:"side",headerName:"side",width:70,pinned:"right",resizable:!0},{field:"client_order_id",headerName:"action",width:80,cellRenderer:r,cellRendererParams:{clicked:function(){var e=Object(d.a)(u.a.mark((function e(r){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("g_rowdata.find((row) => row.client_order_id == field).qty_available :>> ",_.find((function(e){return e.client_order_id==r})).qty_available),t=prompt("Please input number",_.find((function(e){return e.client_order_id==r})).qty_available),console.log("prompt",t),null!=t){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,m.a.get(y,{params:{username:l,prod:w,client_order_id:r,number_shares:t}});case 8:e.sent,alert("Success Sellorder_request!"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert("".concat(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(r){return e.apply(this,arguments)}}()},pinned:"right"}],i=Object(a.useRef)(null),l=e.username,c=e.api,p=e.refresh_sec,h=void 0===p?1:p,b=e.refresh_cutoff_sec,g=void 0===b?0:b,v=e.prod,w=void 0===v||v,y=e.api_url,N=e.button_name,x=e.grid_options,z=void 0===x?{}:x,k=e.index,O=Object(a.useState)([]),j=Object(s.a)(O,2),C=j[0],q=j[1],A=Object(a.useState)(t),S=Object(s.a)(A,2);S[0],S[1];Object(a.useEffect)((function(){o.a.setFrameHeight(),z.columnDefs.push({field:"client_order_id",headerName:"action",width:80,cellRenderer:r,cellRendererParams:{clicked:function(){var e=Object(d.a)(u.a.mark((function e(r){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("g_rowdata.find((row) => row.client_order_id == field).qty_available :>> ",_.find((function(e){return e.client_order_id==r})).qty_available),t=prompt("Please input number",_.find((function(e){return e.client_order_id==r})).qty_available),console.log("prompt",t),null!=t){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,m.a.get(y,{params:{username:l,prod:w,client_order_id:r,number_shares:t}});case 8:e.sent,alert("Success Sellorder_request!"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert("".concat(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(r){return e.apply(this,arguments)}}()},pinned:"right"})}));var R=function(){var e=Object(d.a)(u.a.mark((function e(){var r,t,a,n,l,o,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:r=e.sent,t=i.current.api,a=r.map((function(e){return e[k]})),n=_.map((function(e){return e[k]})),l=_.filter((function(e){return a.includes(e[k])})),o=_.filter((function(e){return!a.includes(e[k])})),s=r.filter((function(e){return!n.includes(e[k])})),t.applyTransactionAsync({update:l,remove:o,add:s}),_=r,console.log("index",k);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(d.a)(u.a.mark((function e(){var r,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(c,{params:{username:l,prod:w}});case 2:return r=e.sent,t=JSON.parse(r.data),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var r,t=setInterval(R,1e3*h);return g>0&&(console.log(g),r=setTimeout((function(){clearInterval(t),console.log("Fetching data ended, refresh rate:",h)}),1e3*g)),console.error("rendered==========",e),function(){clearInterval(t),r&&clearTimeout(r)}}),[e]);Object(a.useCallback)((function(e){var r=[];i.current.columnApi.getColumns().forEach((function(e){r.push(e.getId())})),i.current.columnApi.autoSizeColumns(r,e)}),[]),Object(a.useCallback)((function(){i.current.api.sizeColumnsToFit({defaultMinWidth:100})}),[]);var P=Object(a.useCallback)(function(){var e=Object(d.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout(Object(d.a)(u.a.mark((function e(){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:r=e.sent,q(r),_=r;case 5:case"end":return e.stop()}}),e)}))),100);case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[]),F=Object(a.useMemo)((function(){return{minWidth:200}}),[]),T=Object(a.useMemo)((function(){return function(e){return e.data[k]}}),[k]),I=Object(a.useMemo)((function(){return{toolPanels:[{id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},{id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}],defaultToolPanel:"customStats"}}),[]);return n.a.createElement("div",{style:{display:"flex",flexDirection:"row",height:"300px",width:"100"},id:"myGrid"},n.a.createElement("div",{className:"ag-theme-alpine-dark",style:{width:"100%",height:"100%"}},n.a.createElement(f.AgGridReact,{ref:i,rowData:C,rowStyle:{fontSize:12,padding:0},headerHeight:30,rowHeight:30,onGridReady:P,autoGroupColumnDef:F,sideBar:I,animateRows:!0,suppressAggFuncInHeader:!0,getRowId:T,gridOptions:z})))},h=Object(o.b)((function(e){var r=e.args,t=r.username,a=r.api,i=r.refresh_sec,l=r.refresh_cutoff_sec,o=r.gridoption_build,s=r.prod,c=e.args,u=c.api_url,d=c.button_name,f=c.grid_options,m=f.index;return console.log("AAAAAAAA",f.index),n.a.createElement("div",null,n.a.createElement(p,{username:t,api:a,refresh_sec:i,refresh_cutoff_sec:l,gridoption_build:o,prod:s,api_url:u,button_name:d,grid_options:f,index:m}))}));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(h,null)),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.cbf1bf63.chunk.js.map